(this["webpackJsonptest-employees"]=this["webpackJsonptest-employees"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(9),c=a.n(s),i=(a(91),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,162)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))}),l=a(23),o=a(20),d=a(31),u=a(39),j=Object(d.c)({name:"app",initialState:{status:"loading",error:null,isInitialized:!1},reducers:{setAppErrorAC:function(e,t){e.error=t.payload.error},setAppStatusAC:function(e,t){e.status=t.payload.status}}}),m=j.reducer,b=j.actions,h=b.setAppErrorAC,x=b.setAppStatusAC,O=a(79),f=a(80),p=a(35),v=a.n(p),_=a(45),g=a(69),C=a.n(g).a.create({baseURL:"https://reqres.in/api/"}),N={getUsers:function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("users?per_page=12");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},y=Object(d.b)("users/fetchUsers",function(){var e=Object(_.a)(v.a.mark((function e(t,a){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.dispatch(x({status:"loading"})),e.next=4,N.getUsers();case 4:return r=e.sent,n=r.data,a.dispatch(x({status:"succeeded"})),e.abrupt("return",{users:n});case 10:e.prev=10,e.t0=e.catch(0),a.dispatch(h({error:e.t0.message})),a.rejectWithValue(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(d.c)({name:"users",initialState:[],reducers:{addUser:function(e,t){e.unshift(Object(f.a)({},t.payload.user))},deleteUser:function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))}},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){void 0!==t.payload&&e.push.apply(e,Object(O.a)(t.payload.users))}))}}),E=F.reducer,A=F.actions,S=A.addUser,M=A.deleteUser,w=Object(o.c)({app:m,users:E}),L=Object(d.a)({reducer:w,middleware:function(e){return e().prepend(u.a)}}),U=(a(67),a(153)),H=a(155),k=a(156),I=a(32),q=a(38),P=a.n(q),Y=a(150),D=a(2),T=Object(Y.a)((function(e){return{root:{flexGrow:1}}})),V=n.a.memo((function(){var e=T();return Object(D.jsx)("div",{className:e.root,children:Object(D.jsx)(U.a,{position:"static",children:Object(D.jsxs)(H.a,{className:P.a.navbar,children:[Object(D.jsx)("div",{className:P.a.item,children:Object(D.jsx)(k.a,{variant:"h5",children:Object(D.jsx)(I.b,{to:W.MAIN,activeClassName:P.a.active,children:"MAIN"})})}),Object(D.jsx)("div",{className:P.a.item,children:Object(D.jsx)(k.a,{variant:"h5",children:Object(D.jsx)(I.b,{to:W.EMPLOYEES,activeClassName:P.a.active,children:"EMPLOYEES"})})})]})})})})),W={MAIN:"/main",EMPLOYEES:"/employees"},z=a(12),B=a(159),J=n.a.memo((function(e){return Object(D.jsx)(B.a,{onClick:e.onClickHandler,type:e.type,variant:"contained",color:"primary",children:e.title})})),R=n.a.memo((function(e){return Object(D.jsx)("div",{style:{width:"70vw"},children:Object(D.jsxs)("table",{className:"table table-striped",style:{cursor:"pointer"},children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"First Name"}),Object(D.jsx)("th",{children:"Last Name"}),Object(D.jsx)("th",{children:"Delete user"})]})}),Object(D.jsx)("tbody",{children:e.data.map((function(t){return Object(D.jsxs)("tr",{children:[Object(D.jsx)("td",{children:t.first_name}),Object(D.jsx)("td",{children:t.last_name}),Object(D.jsx)("td",{children:Object(D.jsx)(J,{onClickHandler:function(){return e.deleteHandler(t.id)},title:"delete"})})]},t.id)}))})]})})})),G=a(78),X=a(160),K=a(21),Q=a.n(K),Z=a(158),$=n.a.memo((function(e){var t=e.id,a=e.name,r=e.onChange,n=e.value,s=e.error,c=e.label;return Object(D.jsx)(Z.a,{id:t,name:a,onChange:r,value:n,color:"primary",label:s||c,variant:"outlined",type:"text",error:!!s})})),ee=n.a.memo((function(){var e=Object(l.b)(),t=Object(G.a)({initialValues:{first_name:"",last_name:"",email:"",avatar:""},validate:te,onSubmit:function(t,a){var r=a.resetForm;console.log(t);var n,s,c,i,l=(n=t.first_name,s=t.last_name,c=t.email,i=t.avatar,{id:Object(X.a)(),first_name:n,last_name:s,avatar:i,email:c});e(S({user:l})),r({values:{first_name:"",last_name:"",email:"",avatar:""}})}});return Object(D.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(D.jsxs)("div",{className:Q.a.form,children:[Object(D.jsxs)("div",{className:Q.a.formContainer,children:[Object(D.jsx)("div",{className:Q.a.textField,children:Object(D.jsx)($,{id:"first_name",name:"first_name",value:t.values.first_name,onChange:t.handleChange,error:t.errors.first_name,label:"first name"})}),Object(D.jsx)("div",{className:Q.a.textField,children:Object(D.jsx)($,{id:"last_name",name:"last_name",value:t.values.last_name,onChange:t.handleChange,error:t.errors.last_name,label:"last name"})})]}),Object(D.jsxs)("div",{className:Q.a.formContainer,children:[Object(D.jsx)("div",{className:Q.a.textField,children:Object(D.jsx)($,{id:"email",name:"email",value:t.values.email,onChange:t.handleChange,error:t.errors.email,label:"email"})}),Object(D.jsx)("div",{className:Q.a.textField,children:Object(D.jsx)($,{id:"avatar",name:"avatar",value:t.values.avatar,onChange:t.handleChange,error:t.errors.avatar,label:"avatar"})})]})]}),Object(D.jsx)("div",{className:Q.a.button,children:Object(D.jsx)(J,{type:"submit",title:"submit"})})]})})),te=function(e){return e.first_name?e.last_name?e.email?e.avatar?void 0:{avatar:se}:{email:ne}:{last_name:re}:{first_name:ae}},ae="first name is required",re="last name is required",ne="email is required",se="avatar url required",ce=function(){var e=Object(l.c)((function(e){return e.users})),t=Object(l.b)(),a=Object(r.useCallback)((function(e){t(M({id:e}))}),[]);return Object(D.jsxs)("div",{className:Q.a.container,children:[Object(D.jsx)(ee,{}),Object(D.jsx)(R,{data:e,deleteHandler:a})]})},ie=a(76),le=a.n(ie),oe=n.a.memo((function(){return Object(D.jsx)("div",{className:le.a.main,children:"Main"})})),de=function(){return Object(D.jsxs)(z.d,{children:[Object(D.jsx)(z.b,{exact:!0,path:"/",children:Object(D.jsx)(z.a,{to:W.MAIN})}),Object(D.jsx)(z.b,{exact:!0,path:W.MAIN,render:function(){return Object(D.jsx)(oe,{})}}),Object(D.jsx)(z.b,{exact:!0,path:W.EMPLOYEES,render:function(){return Object(D.jsx)(ce,{})}})]})},ue=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(V,{}),Object(D.jsx)(de,{})]})},je=a(157),me=a(77),be=a.n(me),he=function(){return Object(D.jsx)("div",{className:be.a.progress,children:Object(D.jsx)(je.a,{})})};var xe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.app.status}));return Object(r.useEffect)((function(){e(y())}),[]),"loading"===t?Object(D.jsx)(he,{}):Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(I.a,{children:Object(D.jsx)(ue,{})})})};c.a.render(Object(D.jsx)(l.a,{store:L,children:Object(D.jsx)(xe,{})}),document.getElementById("root")),i()},21:function(e,t,a){e.exports={form:"Form_form__3p_Uv",formContainer:"Form_formContainer__18j2u",textField:"Form_textField__2LEDp",button:"Form_button__1YHqn",container:"Form_container__1XEHo"}},38:function(e,t,a){e.exports={navbar:"Header_navbar__296fW",item:"Header_item__1z_lv",active:"Header_active__xyVce"}},76:function(e,t,a){e.exports={main:"Main_main__Mx4gS"}},77:function(e,t,a){e.exports={progress:"Loading_progress__xUnWT"}},91:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.9528a76d.chunk.js.map