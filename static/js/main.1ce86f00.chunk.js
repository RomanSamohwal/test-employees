(this["webpackJsonptest-employees"]=this["webpackJsonptest-employees"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(9),c=a.n(s),i=(a(91),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,160)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))}),l=a(23),o=a(20),d=a(31),u=a(38),j=Object(d.c)({name:"app",initialState:{status:"loading",error:null,isInitialized:!1},reducers:{setAppErrorAC:function(e,t){e.error=t.payload.error},setAppStatusAC:function(e,t){e.status=t.payload.status}}}),m=j.reducer,b=j.actions,h=b.setAppErrorAC,x=b.setAppStatusAC,O=a(78),f=a(79),p=a(34),v=a.n(p),_=a(43),g=a(68),C=a.n(g).a.create({baseURL:"https://reqres.in/api/"}),y={getUsers:function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("users?per_page=12");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},N=Object(d.b)("users/fetchUsers",function(){var e=Object(_.a)(v.a.mark((function e(t,a){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.dispatch(x({status:"loading"})),e.next=4,y.getUsers();case 4:return r=e.sent,n=r.data,a.dispatch(x({status:"succeeded"})),e.abrupt("return",{users:n});case 10:e.prev=10,e.t0=e.catch(0),a.dispatch(h({error:e.t0.message})),a.rejectWithValue(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(d.c)({name:"users",initialState:[],reducers:{addUser:function(e,t){e.unshift(Object(f.a)({},t.payload.user))},deleteUser:function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))}},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){void 0!==t.payload&&e.push.apply(e,Object(O.a)(t.payload.users))}))}}),E=F.reducer,A=F.actions,S=A.addUser,M=A.deleteUser,w=Object(o.c)({app:m,users:E}),L=Object(d.a)({reducer:w,middleware:function(e){return e().prepend(u.a)}}),U=(a(66),a(149)),H=a(153),k=a(154),I=a(32),q=a(37),P=a.n(q),Y=a(2),D=n.a.memo((function(){return Object(Y.jsx)("div",{style:{width:"100vw"},children:Object(Y.jsx)(U.a,{position:"static",children:Object(Y.jsxs)(H.a,{className:P.a.navbar,children:[Object(Y.jsx)("div",{className:P.a.item,children:Object(Y.jsx)(k.a,{variant:"h5",children:Object(Y.jsx)(I.b,{to:T.MAIN,activeClassName:P.a.active,children:"MAIN"})})}),Object(Y.jsx)("div",{className:P.a.item,children:Object(Y.jsx)(k.a,{variant:"h5",children:Object(Y.jsx)(I.b,{to:T.EMPLOYEES,activeClassName:P.a.active,children:"EMPLOYEES"})})})]})})})})),T={MAIN:"/main",EMPLOYEES:"/employees"},V=a(12),W=a(157),z=n.a.memo((function(e){return Object(Y.jsx)(W.a,{onClick:e.onClickHandler,type:e.type,variant:"contained",color:"primary",children:e.title})})),B=n.a.memo((function(e){return Object(Y.jsx)("div",{style:{width:"70vw"},children:Object(Y.jsxs)("table",{className:"table table-striped",style:{cursor:"pointer"},children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"First Name"}),Object(Y.jsx)("th",{children:"Last Name"}),Object(Y.jsx)("th",{children:"Delete user"})]})}),Object(Y.jsx)("tbody",{children:e.data.map((function(t){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:t.first_name}),Object(Y.jsx)("td",{children:t.last_name}),Object(Y.jsx)("td",{children:Object(Y.jsx)(z,{onClickHandler:function(){return e.deleteHandler(t.id)},title:"delete"})})]},t.id)}))})]})})})),J=a(77),R=a(158),X=a(21),G=a.n(X),K=a(156),Q=n.a.memo((function(e){var t=e.id,a=e.name,r=e.onChange,n=e.value,s=e.error,c=e.label;return Object(Y.jsx)(K.a,{id:t,name:a,onChange:r,value:n,color:"primary",label:s||c,variant:"outlined",type:"text",error:!!s})})),Z=n.a.memo((function(){var e=Object(l.b)(),t=Object(J.a)({initialValues:{first_name:"",last_name:"",email:"",avatar:""},validate:$,onSubmit:function(t,a){var r=a.resetForm;console.log(t);var n,s,c,i,l=(n=t.first_name,s=t.last_name,c=t.email,i=t.avatar,{id:Object(R.a)(),first_name:n,last_name:s,avatar:i,email:c});e(S({user:l})),r({values:{first_name:"",last_name:"",email:"",avatar:""}})}});return Object(Y.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(Y.jsxs)("div",{className:G.a.form,children:[Object(Y.jsxs)("div",{className:G.a.formContainer,children:[Object(Y.jsx)("div",{className:G.a.textField,children:Object(Y.jsx)(Q,{id:"first_name",name:"first_name",value:t.values.first_name,onChange:t.handleChange,error:t.errors.first_name,label:"first name"})}),Object(Y.jsx)("div",{className:G.a.textField,children:Object(Y.jsx)(Q,{id:"last_name",name:"last_name",value:t.values.last_name,onChange:t.handleChange,error:t.errors.last_name,label:"last name"})})]}),Object(Y.jsxs)("div",{className:G.a.formContainer,children:[Object(Y.jsx)("div",{className:G.a.textField,children:Object(Y.jsx)(Q,{id:"email",name:"email",value:t.values.email,onChange:t.handleChange,error:t.errors.email,label:"email"})}),Object(Y.jsx)("div",{className:G.a.textField,children:Object(Y.jsx)(Q,{id:"avatar",name:"avatar",value:t.values.avatar,onChange:t.handleChange,error:t.errors.avatar,label:"avatar"})})]})]}),Object(Y.jsx)("div",{className:G.a.button,children:Object(Y.jsx)(z,{type:"submit",title:"submit"})})]})})),$=function(e){return e.first_name?e.last_name?e.email?e.avatar?void 0:{avatar:re}:{email:ae}:{last_name:te}:{first_name:ee}},ee="first name is required",te="last name is required",ae="email is required",re="avatar url required",ne=function(){var e=Object(l.c)((function(e){return e.users})),t=Object(l.b)(),a=Object(r.useCallback)((function(e){t(M({id:e}))}),[]);return Object(Y.jsxs)("div",{className:G.a.container,children:[Object(Y.jsx)(Z,{}),Object(Y.jsx)(B,{data:e,deleteHandler:a})]})},se=a(75),ce=a.n(se),ie=n.a.memo((function(){return Object(Y.jsx)("div",{className:ce.a.main,children:"Main"})})),le=function(){return Object(Y.jsxs)(V.d,{children:[Object(Y.jsx)(V.b,{exact:!0,path:"/",children:Object(Y.jsx)(V.a,{to:T.MAIN})}),Object(Y.jsx)(V.b,{exact:!0,path:T.MAIN,render:function(){return Object(Y.jsx)(ie,{})}}),Object(Y.jsx)(V.b,{exact:!0,path:T.EMPLOYEES,render:function(){return Object(Y.jsx)(ne,{})}})]})},oe=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(D,{}),Object(Y.jsx)(le,{})]})},de=a(155),ue=a(76),je=a.n(ue),me=function(){return Object(Y.jsx)("div",{className:je.a.progress,children:Object(Y.jsx)(de.a,{})})};var be=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.app.status}));return Object(r.useEffect)((function(){e(N())}),[]),"loading"===t?Object(Y.jsx)(me,{}):Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(I.a,{children:Object(Y.jsx)(oe,{})})})};c.a.render(Object(Y.jsx)(l.a,{store:L,children:Object(Y.jsx)(be,{})}),document.getElementById("root")),i()},21:function(e,t,a){e.exports={form:"Form_form__3p_Uv",formContainer:"Form_formContainer__18j2u",textField:"Form_textField__2LEDp",button:"Form_button__1YHqn",container:"Form_container__1XEHo"}},37:function(e,t,a){e.exports={navbar:"Header_navbar__296fW",item:"Header_item__1z_lv",active:"Header_active__xyVce"}},75:function(e,t,a){e.exports={main:"Main_main__Mx4gS"}},76:function(e,t,a){e.exports={progress:"Loading_progress__xUnWT"}},91:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.1ce86f00.chunk.js.map